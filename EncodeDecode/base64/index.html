



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="crypto">
      
      
      
        <meta name="author" content="nianhua">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Base64编码 - crypto-wiki</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#base64" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="crypto-wiki" class="md-header-nav__button md-logo">
          
            <i class="md-icon">school</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              crypto-wiki
            </span>
            <span class="md-header-nav__topic">
              
                Base64编码
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/nian-hua/crypto-wiki/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    crypto-wiki
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../.." class="md-tabs__link">
          密码学简介
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../introduction/" class="md-tabs__link md-tabs__link--active">
          编码与解码
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../ClassicalCipher/introduction/" class="md-tabs__link">
          古典密码学
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../ModernCipher/introduction/" class="md-tabs__link">
          现代密码学
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../About/" class="md-tabs__link">
          Fdmh bxcwuh Fdmh yvvngfb
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="crypto-wiki" class="md-nav__button md-logo">
      
        <i class="md-icon">school</i>
      
    </a>
    crypto-wiki
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/nian-hua/crypto-wiki/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    crypto-wiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      密码学简介
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        密码学简介
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../.." title="密码学简介" class="md-nav__link">
      密码学简介
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      编码与解码
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        编码与解码
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../introduction/" title="简介" class="md-nav__link">
      简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ascii/" title="ASCII编码" class="md-nav__link">
      ASCII编码
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Base64编码
      </label>
    
    <a href="./" title="Base64编码" class="md-nav__link md-nav__link--active">
      Base64编码
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base64" class="md-nav__link">
    Base64简介
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    编码
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    解码
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base64_1" class="md-nav__link">
    内置库函数解码base64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#base64_2" class="md-nav__link">
    自定义程序解码base64
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    扩展
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    例题
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    等号数量错误导致无法解码
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    使用等号隐匿信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    对编码表进行变换
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../base32/" title="Base32编码" class="md-nav__link">
      Base32编码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../base16/" title="Base16编码" class="md-nav__link">
      Base16编码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../XXencode/" title="XXencode编码" class="md-nav__link">
      XXencode编码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../UUencode/" title="UUencode编码" class="md-nav__link">
      UUencode编码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../URL/" title="URL编码" class="md-nav__link">
      URL编码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Unicode/" title="Unicode编码" class="md-nav__link">
      Unicode编码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../welcome/" title="欢迎补充" class="md-nav__link">
      欢迎补充
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      古典密码学
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        古典密码学
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/introduction/" title="古典密码学浅析" class="md-nav__link">
      古典密码学浅析
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      古典密码学分类
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        古典密码学分类
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/TranspositionCiphers/introduction/" title="换位密码" class="md-nav__link">
      换位密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/SubstitutionCiphers/introduction/" title="替换密码" class="md-nav__link">
      替换密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/FractionatingCiphers/introduction/" title="分组密码" class="md-nav__link">
      分组密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/DigraphSubstitutionCiphers/introduction/" title="有向图密码" class="md-nav__link">
      有向图密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Cryptanalysis/introduction/" title="密码分析" class="md-nav__link">
      密码分析
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Steganography/introduction/" title="隐写密码" class="md-nav__link">
      隐写密码
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      换位密码
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        换位密码
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/TranspositionCiphers/ScytaleCrypto/" title="密码棒密码" class="md-nav__link">
      密码棒密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/TranspositionCiphers/pingyi/" title="平移密码" class="md-nav__link">
      平移密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/TranspositionCiphers/RailFenceCipher/" title="栅栏密码" class="md-nav__link">
      栅栏密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/TranspositionCiphers/RouteCipher/" title="曲路密码" class="md-nav__link">
      曲路密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/TranspositionCiphers/ColumnarTranspositionCipher/" title="列换位密码" class="md-nav__link">
      列换位密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/TranspositionCiphers/DoubleColumnarTranspositionCipher/" title="双列换位密码" class="md-nav__link">
      双列换位密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/TranspositionCiphers/DisruptedTranspositionCipher/" title="中断换位密码" class="md-nav__link">
      中断换位密码
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      替换密码
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        替换密码
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/SubstitutionCiphers/PigpenCipher/" title="猪圈密码" class="md-nav__link">
      猪圈密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/SubstitutionCiphers/AtbashCipher/" title="埃特巴什码" class="md-nav__link">
      埃特巴什码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/SubstitutionCiphers/CaesarCipher/" title="凯撒密码" class="md-nav__link">
      凯撒密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/SubstitutionCiphers/AffineCipher/" title="仿射密码" class="md-nav__link">
      仿射密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/SubstitutionCiphers/SimpleSubstitutionCipher/" title="简单替换密码" class="md-nav__link">
      简单替换密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/SubstitutionCiphers/VigenereCipher/" title="维吉尼亚密码" class="md-nav__link">
      维吉尼亚密码
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      分组密码
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        分组密码
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/FractionatingCiphers/PolybiusSquareCipher/" title="波利比奥斯方阵密码" class="md-nav__link">
      波利比奥斯方阵密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/FractionatingCiphers/StraddleCheckerboardCipher/" title="跨棋盘密码" class="md-nav__link">
      跨棋盘密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/FractionatingCiphers/ADFGXCipher/" title="ADFGX密码" class="md-nav__link">
      ADFGX密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/FractionatingCiphers/ADFGVXCipher/" title="ADFGVX密码" class="md-nav__link">
      ADFGVX密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/FractionatingCiphers/BifidCipher/" title="双密码" class="md-nav__link">
      双密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/FractionatingCiphers/FractionatedMorseCipher/" title="分组摩斯密码" class="md-nav__link">
      分组摩斯密码
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      有向图密码
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        有向图密码
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/DigraphSubstitutionCiphers/PlayfairCipher/" title="普莱费尔密码" class="md-nav__link">
      普莱费尔密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/DigraphSubstitutionCiphers/Two-SquareCipher/" title="二方密码" class="md-nav__link">
      二方密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/DigraphSubstitutionCiphers/Four-SquareCipher/" title="四方密码" class="md-nav__link">
      四方密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/DigraphSubstitutionCiphers/HillCipher/" title="希尔密码" class="md-nav__link">
      希尔密码
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7" type="checkbox" id="nav-3-7">
    
    <label class="md-nav__link" for="nav-3-7">
      密码分析
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-7">
        密码分析
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Cryptanalysis/Characterisation/" title="文本表征简介" class="md-nav__link">
      文本表征简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Cryptanalysis/Chi-squared/" title="卡方统计" class="md-nav__link">
      卡方统计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Cryptanalysis/IndexofCoincidence/" title="重合指数" class="md-nav__link">
      重合指数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Cryptanalysis/FrequencyAnalysis/" title="频率分析" class="md-nav__link">
      频率分析
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Cryptanalysis/Quadgram/" title="四元组统计" class="md-nav__link">
      四元组统计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Cryptanalysis/UnicityDistance/" title="唯一解距离" class="md-nav__link">
      唯一解距离
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Cryptanalysis/WordStatistics/" title="单词统计" class="md-nav__link">
      单词统计
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-8" type="checkbox" id="nav-3-8">
    
    <label class="md-nav__link" for="nav-3-8">
      隐写密码
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-8">
        隐写密码
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Steganography/BaconCipher/" title="培根密码" class="md-nav__link">
      培根密码
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/Steganography/GrilleCipher/" title="格栅密码" class="md-nav__link">
      格栅密码
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ClassicalCipher/welcome/" title="欢迎补充" class="md-nav__link">
      欢迎补充
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      现代密码学
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        现代密码学
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ModernCipher/introduction/" title="现代密码学浅析" class="md-nav__link">
      现代密码学浅析
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Fdmh bxcwuh Fdmh yvvngfb
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Fdmh bxcwuh Fdmh yvvngfb
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/" title="关于我们" class="md-nav__link">
      关于我们
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#base64" class="md-nav__link">
    Base64简介
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    编码
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    解码
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base64_1" class="md-nav__link">
    内置库函数解码base64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#base64_2" class="md-nav__link">
    自定义程序解码base64
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    扩展
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    例题
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    等号数量错误导致无法解码
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    使用等号隐匿信息
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    对编码表进行变换
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nian-hua/crypto-wiki/edit/master/docs/EncodeDecode/base64.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Base64编码</h1>
                
                <h2 id="base64">Base64简介<a class="headerlink" href="#base64" title="Permanent link">&para;</a></h2>
<p>Base64是网络上最常见的用于传输8Bit字节码的编码方式之一，Base64就是一种基于64个可打印字符来表示二进制数据的方法。</p>
<p>因为2<sup>6</sup> = 64，所以6个比特为一个单元，对应某个可打印字符。3个字符有24比特(3 * 8=24),对应4个Base64单元，<strong>这也就是意味着3个字符将被4个Base64字符表示</strong></p>
<p>下表为Base64的默认编码表</p>
<table>
<thead>
<tr>
<th align="center">KEY</th>
<th align="center">VAL</th>
<th align="center">KEY</th>
<th align="center">VAL</th>
<th align="center">KEY</th>
<th align="center">VAL</th>
<th align="center">KEY</th>
<th align="center">VAL</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">A</td>
<td align="center">16</td>
<td align="center">Q</td>
<td align="center">32</td>
<td align="center">g</td>
<td align="center">48</td>
<td align="center">w</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">B</td>
<td align="center">17</td>
<td align="center">R</td>
<td align="center">33</td>
<td align="center">h</td>
<td align="center">49</td>
<td align="center">x</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">C</td>
<td align="center">18</td>
<td align="center">S</td>
<td align="center">34</td>
<td align="center">i</td>
<td align="center">50</td>
<td align="center">y</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D</td>
<td align="center">19</td>
<td align="center">T</td>
<td align="center">35</td>
<td align="center">j</td>
<td align="center">51</td>
<td align="center">z</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">E</td>
<td align="center">20</td>
<td align="center">U</td>
<td align="center">36</td>
<td align="center">k</td>
<td align="center">52</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">F</td>
<td align="center">21</td>
<td align="center">V</td>
<td align="center">37</td>
<td align="center">l</td>
<td align="center">53</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">G</td>
<td align="center">22</td>
<td align="center">W</td>
<td align="center">38</td>
<td align="center">m</td>
<td align="center">54</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">H</td>
<td align="center">23</td>
<td align="center">X</td>
<td align="center">39</td>
<td align="center">n</td>
<td align="center">55</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">I</td>
<td align="center">24</td>
<td align="center">Y</td>
<td align="center">40</td>
<td align="center">o</td>
<td align="center">56</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">J</td>
<td align="center">25</td>
<td align="center">Z</td>
<td align="center">41</td>
<td align="center">p</td>
<td align="center">57</td>
<td align="center">5</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">K</td>
<td align="center">26</td>
<td align="center">a</td>
<td align="center">42</td>
<td align="center">q</td>
<td align="center">58</td>
<td align="center">6</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center">L</td>
<td align="center">27</td>
<td align="center">b</td>
<td align="center">43</td>
<td align="center">r</td>
<td align="center">59</td>
<td align="center">7</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">M</td>
<td align="center">28</td>
<td align="center">c</td>
<td align="center">44</td>
<td align="center">s</td>
<td align="center">60</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">13</td>
<td align="center">N</td>
<td align="center">29</td>
<td align="center">d</td>
<td align="center">45</td>
<td align="center">t</td>
<td align="center">61</td>
<td align="center">9</td>
</tr>
<tr>
<td align="center">14</td>
<td align="center">O</td>
<td align="center">30</td>
<td align="center">e</td>
<td align="center">46</td>
<td align="center">u</td>
<td align="center">62</td>
<td align="center">+</td>
</tr>
<tr>
<td align="center">15</td>
<td align="center">P</td>
<td align="center">31</td>
<td align="center">f</td>
<td align="center">47</td>
<td align="center">v</td>
<td align="center">63</td>
<td align="center">/</td>
</tr>
</tbody>
</table>
<h2 id="_1">编码<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>首先我们来看一下，如何使用Base64编码一个ASCII字符：</p>
<p><strong>编码的字节能够被3整除</strong></p>
<p><img alt="Base64-1" src="../image/Base64-1.png" /></p>
<p><strong>编码的字节数不能被3整除</strong></p>
<p><img alt="Base64-2" src="../image/Base64-2.png" /></p>
<p><img alt="Base64-3" src="../image/Base64-3.png" /></p>
<h2 id="_2">解码<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>方法1. 首先判断长度是否为4的倍数，如果不是，则检查字符串尾部有几个等号，删除等号后将字符串转为二进制、再删除尾部 <strong>等号数量*2个比特</strong> 后解码。</p>
<h4 id="base64_1">内置库函数解码base64<a class="headerlink" href="#base64_1" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">base64</span>
<span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;Man&quot;</span>
<span class="k">print</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;TWFu&quot;</span>
<span class="k">print</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</pre></div>

<p>方法2. 首先将字符串转为二进制，从前至后每8个二进制进行chr()，直到不足8位。</p>
<h4 id="base64_2">自定义程序解码base64<a class="headerlink" href="#base64_2" title="Permanent link">&para;</a></h4>
<div class="admonition tip">
<p class="admonition-title">提示</p>
<p><strong>使用本程序，我们可以自定义base64编码表、可以忽略base64中的等号而不影响正常解码。</strong></p>
<p><strong>请注意：以后在程序中引用NHbase64，均指的是该文件。</strong></p>
</div>
<div class="codehilite"><pre><span></span><span class="c1">###</span>
<span class="c1">###     FileName:NHbase64.py</span>
<span class="c1">###    Date:2018-08-07</span>
<span class="c1">###   Time:12:33 GMT</span>
<span class="c1">###  Author:nianhua</span>
<span class="c1">###</span>

<span class="k">class</span> <span class="nc">base64</span><span class="p">:</span>

    <span class="c1">#init function</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">alphabet</span> <span class="o">=</span> <span class="s2">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span> <span class="o">=</span> <span class="n">alphabet</span>

    <span class="k">def</span> <span class="nf">_EnInsideManage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">strlist</span><span class="p">):</span>
        <span class="n">strflag</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">strlist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span>
        <span class="n">strflag</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span><span class="p">[</span><span class="n">temp</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="n">strlist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">&amp;</span><span class="mi">3</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="mi">4</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">strlist</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">&gt;&gt;</span><span class="mi">4</span><span class="p">)</span>
        <span class="n">strflag</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span><span class="p">[</span><span class="n">temp</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="p">((</span><span class="nb">ord</span><span class="p">(</span><span class="n">strlist</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">&amp;</span><span class="mi">15</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="mi">2</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">strlist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&gt;&gt;</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">strflag</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span><span class="p">[</span><span class="n">temp</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">strlist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">&amp;</span><span class="mi">63</span><span class="p">)</span>
        <span class="n">strflag</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span><span class="p">[</span><span class="n">temp</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">strflag</span>

    <span class="k">def</span> <span class="nf">enbase64</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">charString</span><span class="p">):</span>
        <span class="n">encode</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">charString</span><span class="p">)</span><span class="o">//</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">encode</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_EnInsideManage</span><span class="p">(</span><span class="n">charString</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span><span class="p">:</span><span class="n">i</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">charString</span><span class="p">)</span><span class="o">%</span><span class="mi">3</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">charString</span><span class="p">)</span><span class="o">%</span><span class="mi">3</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">encode</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_EnInsideManage</span><span class="p">(</span><span class="n">charString</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span><span class="o">+</span><span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">))[:</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;==&quot;</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">charString</span><span class="p">)</span><span class="o">%</span><span class="mi">3</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">encode</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_EnInsideManage</span><span class="p">(</span><span class="n">charString</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">+</span><span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">))[:</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;=&#39;</span>
        <span class="k">return</span> <span class="n">encode</span>

    <span class="k">def</span> <span class="nf">TenToBin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">tenum</span><span class="p">):</span>
        <span class="n">binstr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="mi">1</span> <span class="o">==</span> <span class="p">(</span><span class="n">tenum</span><span class="o">//</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">i</span><span class="p">)):</span>
                <span class="n">binstr</span> <span class="o">+=</span> <span class="s1">&#39;1&#39;</span>
                <span class="n">tenum</span> <span class="o">=</span> <span class="n">tenum</span><span class="o">%</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">binstr</span> <span class="o">+=</span> <span class="s1">&#39;0&#39;</span>
        <span class="k">return</span> <span class="n">binstr</span>

    <span class="k">def</span> <span class="nf">BinToStr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">strbin</span><span class="p">):</span>
        <span class="s2">&quot;Turn the binary string to a ASCII string&quot;</span>
        <span class="n">strten</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">strbin</span><span class="p">)</span><span class="o">//</span><span class="mi">8</span><span class="p">):</span>
            <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">test</span> <span class="o">=</span> <span class="n">strbin</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="mi">8</span><span class="p">:</span><span class="n">i</span><span class="o">*</span><span class="mi">8</span><span class="o">+</span><span class="mi">8</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
                <span class="n">num</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">test</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">7</span><span class="o">-</span><span class="n">j</span><span class="p">))</span>
            <span class="n">strten</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">strten</span>

    <span class="k">def</span> <span class="nf">debase64</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">base64string</span><span class="p">):</span>
        <span class="n">binstr</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">base64string</span><span class="p">:</span>
            <span class="n">binstr</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">TenToBin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alphabet</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">BinToStr</span><span class="p">(</span><span class="n">binstr</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">newobj</span> <span class="o">=</span> <span class="n">base64</span><span class="p">(</span><span class="s2">&quot;qazwsxedcrfvtgbyhnujmikolpQAZWSXEDCRFVTGBYHNUJMIKOLP-|0987654321&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">newobj</span><span class="o">.</span><span class="n">debase64</span><span class="p">(</span><span class="n">newobj</span><span class="o">.</span><span class="n">enbase64</span><span class="p">(</span><span class="s2">&quot;nianhua&quot;</span><span class="p">)))</span>

<span class="k">if</span> <span class="s2">&quot;__main__&quot;</span> <span class="o">==</span> <span class="vm">__name__</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

<h2 id="_3">扩展<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li>大多数编码都是字符串转换为二进制的过程，而Base64的编码则是从二进制转换为字符串的过程。</li>
<li>Base64编码主要用在传输、存储、表示二进制的过程/领域，不能算加密。</li>
<li>中文有多种编码(例如：utf-8、gb2312、gbk...)，使用不同编码后对应的Base64编码的结果不同</li>
</ol>
<div class="codehilite"><pre><span></span>字符串  ----------&gt;  0101...1011  ----------&gt; VHW=
        ASCII编码                 Base64编码

字符串  ----------&gt;  0100...0010  ----------&gt; MkL=
         GBK编码                  Base64编码
</pre></div>

<h2 id="_4">例题<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<h4 id="_5">等号数量错误导致无法解码<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<div class="admonition tip">
<p class="admonition-title">例题</p>
<p>请解码这串字符串：YXNkZg</p>
</div>
<p>如果我们直接适用Python程序解码的话，例如：</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">base64</span>
<span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;YXNkZg&quot;</span>
<span class="k">print</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</pre></div>

<p>程序会抛出异常，<strong>Incorrect padding</strong>。提示填充不正确，我们可以手动补齐padding，也可以使用本项目中的<a href="#base64_2">Base64程序</a></p>
<hr />
<h4 id="_6">使用等号隐匿信息<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<p><img alt="Base64-4" src="../image/Base64-4.png" /></p>
<p>假设我们想隐匿的数据为'C'，则二进制为01100011，因为一次只能隐匿4个比特，因此需要两串base64.</p>
<p><div class="codehilite"><pre><span></span>--&gt; 高四位 --&gt; 0110 --&gt; YXNkZm==
--&gt; 低四位 --&gt; 0011 --&gt; YXNkZj==
</pre></div>
考虑一下编码后如果只有一个等号，那能隐藏多少bit呢？</p>
<p><img alt="Base64-5" src="../image/Base64-5.png" /></p>
<div class="admonition tip">
<p class="admonition-title">例题</p>
<p>你能从这些base64中找到什么？
<div class="codehilite"><pre><span></span>IiIiCs==
YXV0aDogYmlnZ2VyLndpbmcKdmVyc2lvbjogdjEuMAr=
ZnVuY3Rpb246IGN2ZS0yMDE5LTA3MDggUE9DCm==
dXNhZ2U6Cs==
bm90ZTogVVNlIHBvYyB0byB0ZXN0LCAzMzg5X2hvc3RzIGlzIGlwIGFkZHJlc3MgbGlzdCwwNzA4ZGV0ZWN0b3IuZXhlIGlzIHBvYwr=
IiIiCg==
aW1wb3J0IHJhbmRvbQr=
aW1wb3J0IHN0cmluZwq=
cD0iIi5qb2luKFtyYW5kb20uY2hvaWNlKHN0cmluZy5hc2NpaV9sZXR0ZXJzKSBmb3IgaSBpbiByYW5nZSg1KV0pCn==
cSA9IiIuam9pbihbcmFuZG9tLmNob2ljZShzdHJpbmcuYXNjaWlfbGV0dGVycytzdHJpbmcuaGV4ZGlnaXRzKSBmb3IgaSBpbiByYW5nZSg2KV0pCv==
cHJpbnQgKHApCm==
cHJpbnQgKHEpCt==
ZmxhZz0wCr==
Y291bnQ9MAo=
d2hpbGUgVHJ1ZToKICAgIHVzZXJuYW1lPWlucHV0KCJpbnB1dCB5b3VyIG5hbWUiKQo=
ICAgIGlmIHVzZXJuYW1lID09IHA6Cq==
ICAgICAgICB3aGlsZSBUcnVlOgp=
ICAgICAgICAgICAgcGFzc3dkPWlucHV0KCJpbnB1dCB5b3VyIHBhc3N3b3JkIikKICAgICAgICAgICAgaWYgcGFzc3dkID09IHE6Cj==
ICAgICAgICAgICAgICAgIHByaW50KCJiaW5nbyIpCi==
ICAgICAgICAgICAgICAgIGJyZWFrCs==
ICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZsYWcrPTEKICAgICAgICAgICAgaWYgZmxhZyA9PSAzOgr=
ICAgICAgICAgICAgICAgIGJyZWFrCj==
ICAgIGVsc2U6Cp==
ICAgICAgICBjb3VudCs9MQr=
ICAgIGlmIGNvdW50ID09IDM6Cg==
ICAgICAgICBicmVhawq=
ICAgIHByaW50ICdJIGxpa2UgVGhpcyB3b3JkIScKICAgIHBhc3MgCv==
ICAgIHByaW50ICdzYXkgaGVsbG8nCiAgIK==
</pre></div></p>
</div>
<p>此处我们使用程序来分析隐匿的数据:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">base64</span>
<span class="n">string</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;IiIiCs==YXV0aDogYmlnZ2VyLndpbmcKdmVyc2lvbjogdjEuMAr=ZnVuY3Rpb246IGN2ZS0yMDE5LTA3MDggUE9DCm==dXNhZ2U6Cs==bm90ZTogVVNlIHBvYyB0byB0ZXN0LCAzMzg5X2hvc3RzIGlzIGlwIGFkZHJlc3MgbGlzdCwwNzA4ZGV0ZWN0b3IuZXhlIGlzIHBvYwr=IiIiCg==aW1wb3J0IHJhbmRvbQr=aW1wb3J0IHN0cmluZwq=cD0iIi5qb2luKFtyYW5kb20uY2hvaWNlKHN0cmluZy5hc2NpaV9sZXR0ZXJzKSBmb3IgaSBpbiByYW5nZSg1KV0pCn==cSA9IiIuam9pbihbcmFuZG9tLmNob2ljZShzdHJpbmcuYXNjaWlfbGV0dGVycytzdHJpbmcuaGV4ZGlnaXRzKSBmb3IgaSBpbiByYW5nZSg2KV0pCv==cHJpbnQgKHApCm==cHJpbnQgKHEpCt==ZmxhZz0wCr==Y291bnQ9MAo=d2hpbGUgVHJ1ZToKICAgIHVzZXJuYW1lPWlucHV0KCJpbnB1dCB5b3VyIG5hbWUiKQo=ICAgIGlmIHVzZXJuYW1lID09IHA6Cq==ICAgICAgICB3aGlsZSBUcnVlOgp=ICAgICAgICAgICAgcGFzc3dkPWlucHV0KCJpbnB1dCB5b3VyIHBhc3N3b3JkIikKICAgICAgICAgICAgaWYgcGFzc3dkID09IHE6Cj==ICAgICAgICAgICAgICAgIHByaW50KCJiaW5nbyIpCi==ICAgICAgICAgICAgICAgIGJyZWFrCs==ICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGZsYWcrPTEKICAgICAgICAgICAgaWYgZmxhZyA9PSAzOgr=ICAgICAgICAgICAgICAgIGJyZWFrCj==ICAgIGVsc2U6Cp==ICAgICAgICBjb3VudCs9MQr=ICAgIGlmIGNvdW50ID09IDM6Cg==ICAgICAgICBicmVhawq=ICAgIHByaW50ICdJIGxpa2UgVGhpcyB3b3JkIScKICAgIHBhc3MgCv==ICAgIHByaW50ICdzYXkgaGVsbG8nCiAgIK==&#39;&#39;&#39;</span>
<span class="n">alphabet</span> <span class="o">=</span> <span class="s2">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span>
<span class="n">newstring</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;=&#39;</span> <span class="ow">and</span> <span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;=&#39;</span><span class="p">:</span>
            <span class="n">newstring</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">newstring</span> <span class="o">+=</span> <span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">newstring</span> <span class="o">+=</span> <span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">newstring</span> <span class="o">=</span> <span class="n">newstring</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">newstring</span> <span class="o">=</span> <span class="n">newstring</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">flag</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">binstr</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">newstring</span><span class="p">:</span>
    <span class="n">number</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s1">&#39;=&#39;</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">number</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s1">&#39;=&#39;</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">number</span> <span class="o">+=</span><span class="mi">1</span>    
    <span class="k">if</span> <span class="n">number</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">pass</span>
        <span class="n">binstr</span><span class="o">+=</span> <span class="s1">&#39;{:06b}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">alphabet</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]))[</span><span class="mi">4</span><span class="p">:]</span>
    <span class="k">if</span> <span class="n">number</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">binstr</span><span class="o">+=</span> <span class="s1">&#39;{:06b}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">alphabet</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]))[</span><span class="mi">2</span><span class="p">:]</span>
<span class="k">print</span> <span class="n">binstr</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">binstr</span><span class="p">)</span><span class="o">//</span><span class="mi">7</span><span class="p">):</span>
    <span class="n">flag</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">binstr</span><span class="p">[</span><span class="mi">7</span><span class="o">*</span><span class="n">i</span><span class="p">:</span><span class="mi">7</span><span class="o">*</span><span class="n">i</span><span class="o">+</span><span class="mi">7</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span>
<span class="k">print</span> <span class="n">flag</span>
</pre></div>

<hr />
<h4 id="_7">对编码表进行变换<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<p>对于更换了编码表的题目，一般可以使用已知明文攻击，尽量还原出编码表。</p>
<p>使用本项目中的<a href="#base64_2">Base64程序</a>可自定义base64编码表。</p>
<p><img alt="Base64-6" src="../image/Base64-6.png" /></p>
<div class="admonition tip">
<p class="admonition-title">例题</p>
<p>请解密这段密文:FqsCFkiVDSWMWByZGSWZKqPUAPbRGdzb</p>
<p>提示：</p>
<p>这是泄漏的一段明文:</p>
<p><code>!QAZ@WSX#EDC$RFV%TGB^YHN&amp;UJM*IK&lt;(OL&gt;)P:?_{"+}|`1qaz2wsx3edc4rfv5tgb6yhn7ujm8ik,9ol.0p;/-['=]\The problem is that programs_width is a list. programs_width = list(). If none of these if statements if prog_width == '342' When you read an English book, you often come across new words. You might try to guess what the words mean from the words you know, but when you cannot guess the meanings of new words at all, what should you do?</code></p>
<p>和对应的密文:</p>
<p><code>8P51AN1SOhXByOy39596PVPOyg9LAOCE9MP+IUr9UfaeIgan+P0xRhbc8VibZ60sJA5xQwKfL3WMF6QgJqFjWSywDBFzG6lkKAriE6My/3MpH2laJ3up/PuwRPhJP6CM871dHj9uFAgXGSQXK6CCK21aJqbwJq5iJhbkGAygG21rJd1C86srJkTo871dHjKdDAhfSkKrF7ye83gXH6MfK2Xr/V19FV1oHjzM86bq87yeFSWM86Mq87WgDSyMHAPoK7QXGADXJ79pFhbkGAygG20bRU0wQfTd9d1SG6Po87MpKU1dFA5N865o84PoFjsrJjXXDqbpGdaXLAbh86bqK6Po86WpHAOXDAWdHkWf86zMKd1kHk9NJdlXAAbh86hrFjCg87ydLU1gHd1wKAPfJd1kG65g87yeFU1kHk9NJd1iFA5o86FdHjgXK6CM87KpJqyf87MpKU1yHqbk/21VKSTXKjCMHV1zHkOXDj5oHqbg86KhFSWf87yeFU1iFA5oGAzwJd1pFV1oFSJXKjbdF7QXDSTXDAsu/21kG65g87WeHkPuF21zHkOXF6vm</code></p>
</div>
<p>这里我们使用程序来处理这道题目：</p>
<p><div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">NHbase64</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">nvarry</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">64</span><span class="p">)]</span>
<span class="n">binstr</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">string</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;!QAZ@WSX#EDC$RFV%TGB^YHN&amp;UJM*IK&lt;(OL&gt;)P:?_{&quot;+}|`1qaz2wsx3edc4rfv5tgb6yhn7ujm8ik,9ol.0p;/-[&#39;=]\The problem is that programs_width is a list. programs_width = list(). If none of these if statements if prog_width == &#39;342&#39; When you read an English book, you often come across new words. You might try to guess what the words mean from the words you know, but when you cannot guess the meanings of new words at all, what should you do?&#39;&#39;&#39;</span>
<span class="n">basest</span> <span class="o">=</span> <span class="s2">&quot;8P51AN1SOhXByOy39596PVPOyg9LAOCE9MP+IUr9UfaeIgan+P0xRhbc8VibZ60sJA5xQwKfL3WMF6QgJqFjWSywDBFzG6lkKAriE6My/3MpH2laJ3up/PuwRPhJP6CM871dHj9uFAgXGSQXK6CCK21aJqbwJq5iJhbkGAygG21rJd1C86srJkTo871dHjKdDAhfSkKrF7ye83gXH6MfK2Xr/V19FV1oHjzM86bq87yeFSWM86Mq87WgDSyMHAPoK7QXGADXJ79pFhbkGAygG20bRU0wQfTd9d1SG6Po87MpKU1dFA5N865o84PoFjsrJjXXDqbpGdaXLAbh86bqK6Po86WpHAOXDAWdHkWf86zMKd1kHk9NJdlXAAbh86hrFjCg87ydLU1gHd1wKAPfJd1kG65g87yeFU1kHk9NJd1iFA5o86FdHjgXK6CM87KpJqyf87MpKU1yHqbk/21VKSTXKjCMHV1zHkOXDj5oHqbg86KhFSWf87yeFU1iFA5oGAzwJd1pFV1oFSJXKjbdF7QXDSTXDAsu/21kG65g87WeHkPuF21zHkOXF6vm&quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">string</span><span class="p">:</span>
    <span class="n">binstr</span> <span class="o">+=</span> <span class="s1">&#39;{:08b}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">binstr</span><span class="p">)</span><span class="o">//</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">nvarry</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">binstr</span><span class="p">[</span><span class="mi">6</span><span class="o">*</span><span class="n">i</span><span class="p">:</span><span class="mi">6</span><span class="o">*</span><span class="n">i</span><span class="o">+</span><span class="mi">6</span><span class="p">],</span><span class="mi">2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">basest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">password</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">nvarry</span><span class="p">:</span>
    <span class="n">password</span> <span class="o">+=</span> <span class="n">i</span>
<span class="n">newobj</span> <span class="o">=</span> <span class="n">base64</span><span class="p">(</span><span class="n">alphabet</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">newobj</span><span class="o">.</span><span class="n">debase64</span><span class="p">(</span><span class="s2">&quot;FqsCFkiVDSWMWByZGSWZKqPUAPbRGdzb&quot;</span><span class="p">))</span>
</pre></div>
首先我们通过明文和密文的对应，一一 <strong>计算出Base64的编码规则</strong> ，随后使用 <strong>NHbase64</strong> 模块，手动指定编码表，对密文进行解密。</p>
<div class="admonition tip">
<p class="admonition-title">提示</p>
<p><strong>另一种思路：</strong></p>
<p><strong>在得出编码表之后，我们是不是可以通过新旧编码表来将密文转换为正常的Base64编码数据呢？</strong></p>
</div>
<hr />
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../ascii/" title="ASCII编码" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ASCII编码
              </span>
            </div>
          </a>
        
        
          <a href="../base32/" title="Base32编码" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Base32编码
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>